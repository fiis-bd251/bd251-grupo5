# 3.2. M√≥dulo 2

# Planificaci√≥n de entregas

## 1. ¬øCu√°l es el objetivo de su m√≥dulo?

El objetivo del m√≥dulo de Planificaci√≥n de Entregas es optimizar la programaci√≥n y ejecuci√≥n de las entregas de productos, considerando variables como el tipo de clientes, volumen de carga, tiempos de entrega, tipo de producto a entregar y el tipo de refrigeraci√≥n de los veh√≠culos de entrega.

## 2. ¬øA qui√©n beneficia el funcionamiento de su m√≥dulo?

 El m√≥dulo beneficia:
 - Internamente: beneficia al √°rea de Log√≠stica y Distribuci√≥n que planifican y gestionan las rutas de entrega de forma m√°s eficiente
 - Externamente: beneficia al cliente al recibir sus productos en los tiempos acordados, con mayor puntualidad y consistencia.

## 3. ¬øQu√© resultado genera su m√≥dulo? ¬øEs un producto o un servicio? ¬øQu√© caracter√≠sticas tiene?

 El resultado del m√≥dulo es un servicio de de planificaci√≥n log√≠stica. Sus resultados son:
 - Secuencia de visitas a clientes dependiendo de su tipo
 - Asignaci√≥n de veh√≠culos al tipo de producto a llevar
 - Asignaci√≥n del volumen de producto a entregar por veh√≠culo.

## 4. ¬øQu√© recursos se emplean para obtener dicho resultado?

 - El tipo de cliente que hizo el pedido
 - El tipo de producto a transportar.
 - La refrigeraci√≥n de los veh√≠culos de transporte.
 - Las rutas de entrega.

## 5. ¬øC√≥mo se planifica el uso de estos recursos?
 
 La planificaci√≥n se realiza mediante:
 - Reglas de negocio predefinidas por el tipo de cliente
 - La temperatura de transporte de cada tipo de producto
 - El protocolo de cadena de fr√≠o
 
## 6. ¬øC√≥mo se reserva el uso / la propiedad del producto o servicio generado?

La propiedad del servicio de planificaci√≥n es de San Fernando como parte de su sistema log√≠stico interno. Su uso est√° reservado para el √°rea de log√≠stica y distribuci√≥n, aunque puede generar reportes para otras √°reas como ventas o atenci√≥n al cliente.

## Requerimientos

### ‚úÖ **Requerimientos funcionales**

1. El sistema debe permitir la creaci√≥n de planes de entrega diarios basados en las √≥rdenes de transporte recibidas.
2. El sistema debe permitir agrupar pedidos por canal de cliente (Autoservicio, Food Service, Instituciones del Estado, etc).
3. El sistema debe permitir filtrar y clasificar √≥rdenes por tipo de producto (Refrigerado, Congelado, Huevos).
4. El sistema debe calcular rutas √≥ptimas teniendo en cuenta:
    * Tipo √∫nico de producto por veh√≠culo.
    * Prioridad de horarios fijos (canal autoservicio).
    * Tiempo estimado de descarga por tipo de cliente.
5. El sistema debe permitir visualizar y editar los planes de entrega y sus rutas antes de su confirmaci√≥n.
6. El sistema debe permitir simular la carga por veh√≠culo para validar restricciones de volumen y peso.
7. El sistema debe generar un resumen diario de planificaci√≥n con n√∫mero de rutas, veh√≠culos requeridos y tiempos estimados.
8. El sistema debe permitir guardar y reutilizar plantillas de planificaci√≥n para clientes frecuentes o rutas habituales.
9. El sistema no debe permitir la planificaci√≥n de entregas mixtas en un mismo veh√≠culo (productos de distintos tipos de refrigeraci√≥n).

### ‚ú® **Requerimientos de atributos de calidad**

1. El sistema debe ser capaz de generar una variedad de planes en un corto tiempo.
2. El sistema debe permitir m√∫ltiples planificadores trabajando en paralelo sin afectar el desempe√±o.
3. La interfaz debe permitir visualizaci√≥n tipo mapa y edici√≥n mediante drag-and-drop.
4. El sistema debe estar disponible al menos el 99.9% del tiempo durante horarios de operaci√≥n (dejando un tiempo de inactividad diario de 1 minuto con 26 segundos).
5. El sistema debe estar preparado para integrarse posteriormente con m√≥dulos de GPS y TMS (Transport Management Systems).
6. Toda edici√≥n en las rutas debe quedar registrada con usuario, fecha y hora.
7. El sistema debe permitir ejecuci√≥n autom√°tica de planificaci√≥n a una hora fija cada d√≠a.

### ‚õî **Restricciones**

1. Todos los veh√≠culos solo pueden transportar un tipo de producto (por requerimientos de refrigeraci√≥n).
2. Las entregas son lineales, es decir, un solo viaje con m√∫ltiples entregas.
4. No se cuenta con plataformas virtuales de recepci√≥n en algunos clientes, por lo que se debe prever mayor tiempo en esas entregas.

## üßæ **Opciones del usuario**

1. Crear nuevo plan de entregas
2. Visualizar rutas generadas
3. Editar ruta manualmente 
4. Simular carga por veh√≠culo
5. Consultar resumen diario de planificaci√≥n
6. Guardar planificaci√≥n / Exportar
7. Ver historial de planificaci√≥n
8. Ejecutar planificaci√≥n autom√°tica

## Casos de uso

### Caso de Uso 1: Crear nuevo plan de entregas

| **Campo**            | **Descripci√≥n**                                                                 |
|----------------------|---------------------------------------------------------------------------------|
| **Objetivo**         | Generar un plan de entregas diario a partir de las √≥rdenes de transporte. |
| **Descripci√≥n**      | Proceso mediante el cual el usuario crea un nuevo plan, seleccionando los criterios principales para el transporte. |
| **Actor Primario**   | Planificador log√≠stico |
| **Actor Secundario** | Sistema de √≥rdenes de transporte |
| **Precondiciones**   | Existen √≥rdenes de transporte registradas para el d√≠a seleccionado. |
| **Flujo de Eventos** | 1. El usuario accede al sistema.<br> 2. El usuario selecciona ‚ÄúCrear nuevo plan‚Äù.<br> 3. Ingresa la fecha y el tipo de producto de la entrega.<br> 4. El sistema agrupa √≥rdenes por canal y zona de entrega.<br> 5. El sistema genera rutas √≥ptimas considerando restricciones.<br> 6. El sistema muestra rutas generadas. |
| **Excepciones**      | Si no hay √≥rdenes disponibles en la fecha indicada, el sistema le notifica al usuario y permite modificarlo. |
| **Postcondici√≥n**    | Se genera un nuevo plan de entregas |

---

### Caso de Uso 2: Visualizar rutas generadas

| **Campo**            | **Descripci√≥n**                                                                 |
|----------------------|---------------------------------------------------------------------------------|
| **Objetivo**         | Permitir la visualizaci√≥n detallada de las rutas planificadas. |
| **Descripci√≥n**      | Proceso para que el usuario puede consultar rutas, secuencia de paradas y tiempos estimados. |
| **Actor Primario**   | Planificador log√≠stico |
| **Actor Secundario** | Sistema de planificaci√≥n |
| **Precondiciones**   | Existen planes de entregas generados previamente |
| **Flujo de Eventos** | 1. El usuario accede al sistema.<br> 2. El usuario accede a la opci√≥n ‚ÄúVisualizar rutas‚Äù.<br> 3. Selecciona un plan de entregas.<br> 4. El sistema muestra las rutas y detalles por cada parada.<br> 5. El usuario puede cambiar entre vista de lista y mapa. |
| **Excepciones**      | Si no hay planes de entregas generados para mostrar las rutas, el sistema le notifica al usuario. |
| **Postcondici√≥n**    | El usuario visualiza las rutas y sus detalles |

---

### Caso de Uso 3: Editar ruta manualmente

| **Campo**            | **Descripci√≥n**                                                                 |
|----------------------|---------------------------------------------------------------------------------|
| **Objetivo**         | Ajustar manualmente rutas generadas autom√°ticamente. |
| **Descripci√≥n**      | Proceso para que el usuario puede modificar la asignaci√≥n y secuencia de pedidos.|
| **Actor Primario**   | Planificador log√≠stico |
| **Actor Secundario** | Sistema de planificaci√≥n |
| **Precondiciones**   | Existen rutas generadas |
| **Flujo de Eventos** | 1. El usuario accede al sistema.<br> 2. El usuario accede a ‚ÄúEditar ruta‚Äù.<br> 3. Selecciona la ruta a editar.<br> 4. Modifica la secuencia o reasigna pedidos.<br> 5. El sistema recalcula distancias y tiempos.<br> 6. El usuario guarda los cambios. |
| **Excepciones**      | Si los cambios generan pedidos sin planear, el sistema le notifica al usuario. |
| **Postcondici√≥n**    | La ruta queda actualizada |

---

### Caso de Uso 4: Simular carga por veh√≠culo

| **Campo**            | **Descripci√≥n**                                                                 |
|----------------------|---------------------------------------------------------------------------------|
| **Objetivo**         | Validar que las rutas cumplen con la capacidad del veh√≠culo. |
| **Descripci√≥n**      | Proceso para que el usuario ejecuta una simulaci√≥n para verificar restricciones de peso y volumen. |
| **Actor Primario**   | Planificador log√≠stico |
| **Actor Secundario** | Sistema de planificaci√≥n |
| **Precondiciones**   | Existen planes de entregas generados previamente |
| **Flujo de Eventos** | 1. El usuario accede al sistema.<br> 2. El usuario accede a ‚ÄúSimular carga‚Äù.<br> 3. Selecciona un plan de entrega.<br> 4. El sistema sistema calcula el volumen y peso total.<br> 5. Compara con la capacidad de los veh√≠culos disponibles.<br> 6. Muestra los resultados y alertas si hay excesos. |
| **Postcondici√≥n**    | El usuario obtiene validaci√≥n del estado de carga por ruta. |

---

### Caso de Uso 5: Consultar resumen diario de planificaci√≥n

| **Campo**            | **Descripci√≥n**                                                                 |
|----------------------|---------------------------------------------------------------------------------|
| **Objetivo**         | Obtener un resumen ejecutivo del plan de entregas. |
| **Descripci√≥n**      | Proceso para que el sistema genere un reporte con rutas, tiempos, carga total y cantidad de veh√≠culos a usar. |
| **Actor Primario**   | Planificador log√≠stico |
| **Actor Secundario** | Sistema de planificaci√≥n |
| **Precondiciones**   | Existen planes de entregas generados previamente |
| **Flujo de Eventos** | 1. El usuario accede al sistema.<br> 2. El usuario selecciona ‚ÄúResumen diario‚Äù.<br> 3. Elige una fecha.<br> 4. El sistema genera el informe de planificaci√≥n. |
| **Excepciones**      | Si no hay datos para la fecha consultada, el sistema le notifica al usuario y permite modificarla. |
| **Postcondici√≥n**    | El usuario visualiza el resumen en pantalla permitiendo exportarlo. |

---

### Caso de Uso 6: Guardar planificaci√≥n / Exportar

| **Campo**            | **Descripci√≥n**                                                                 |
|----------------------|---------------------------------------------------------------------------------|
| **Objetivo**         | Guardar y exportar el plan de entregas para uso en otros m√≥dulos o impresi√≥n. |
| **Descripci√≥n**      | Proceso que permite al usuario guardar la planificaci√≥n o exportarla en formatos est√°ndar. |
| **Actor Primario**   | Planificador log√≠stico |
| **Actor Secundario** | Sistema de planificaci√≥n |
| **Precondiciones**   | Existe el plan no validado o editado. |
| **Flujo de Eventos** | 1. El usuario accede al sistema.<br> 2. El usuario accede a ‚ÄúGuardar / Exportar‚Äù.<br> 3. Elige si guardar o exportar<br> 4. El sistema le muestra la planificaci√≥n en formato PDF.<br> 5. El usuario guarda y, si desea, descarga el archivo. |
| **Postcondici√≥n**    | La planificaci√≥n queda registrada y exportada correctamente. |

---

### Caso de Uso 7: Ver historial de planificaci√≥n

| **Campo**            | **Descripci√≥n**                                                                 |
|----------------------|---------------------------------------------------------------------------------|
| **Objetivo**         | Consultar planes anteriores para referencia o auditor√≠a. |
| **Descripci√≥n**      | Proceso que permite buscar y revisar planificaciones pasadas. |
| **Actor Primario**   | Planificador log√≠stico |
| **Actor Secundario** | Sistema de planificaci√≥n |
| **Precondiciones**   | Existen planes guardados previamente |
| **Flujo de Eventos** | 1. El usuario accede al sistema.<br> 2. El usuario accede a ‚ÄúHistorial‚Äù.<br> 3. Filtra por fecha, canal o tipo de producto.<br> 4. El sistema muestra lista de planificaciones anteriores.<br> 5. El usuario puede consultar los detalles de cada una.<br> 6. El sistema muestra los detalles de la planificaci√≥n seleccionada. |
| **Excepciones**      | Si no hay planes de entrega guardados, el sistema notifica el error. |
| **Postcondici√≥n**    | El usuario recibe la informaci√≥n de planificaciones pasadas. |

---

### Caso de Uso 8: Ejecutar planificaci√≥n autom√°tica

| **Campo**            | **Descripci√≥n**                                                                 |
|----------------------|---------------------------------------------------------------------------------|
| **Objetivo**         | Ejecutar generaci√≥n de rutas autom√°ticamente sin intervenci√≥n. |
| **Descripci√≥n**      | Proceso en el que se generan planes de entrega. |
| **Actor Primario**   | Sistema de planificaci√≥n |
| **Actor Secundario** | Planificador log√≠stico (para monitoreo) |
| **Precondiciones**   | Estan registradas √≥rdenes de entrega para el d√≠a siguiente |
| **Flujo de Eventos** | 1. El sistema se activa autom√°ticamente a una hora definida.<br> 2. Recopila las √≥rdenes del d√≠a siguiente.<br> 3. Genera rutas cumpliendo reglas y restricciones.<br> 4. Almacena las rutas como pendientes de validaci√≥n. |
| **Excepciones**      | Si el sistema no encuentra √≥rdenes de entrega para el d√≠a siguiente, enviar√° una notificaci√≥n por si existe alg√∫n error con red o conexi√≥n con la base de datos. |
| **Postcondici√≥n**    | El sistema genera planes de entrega de forma autom√°tica para el d√≠a siguiente. |